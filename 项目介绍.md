# 项目介绍与操作指南

## 项目概述

这是一个基于 **Astro** 框架构建的个人博客网站项目。Astro 是一个现代化的静态网站生成器，专注于性能和开发体验。本项目使用了 Astro 的博客模板，支持 Markdown 和 MDX 格式的博客文章，并集成了 Tailwind CSS、RSS 订阅、站点地图等功能。

## 项目结构详解

### 🚀 Astro 项目结构快速查阅

### 📂 需要重点关注（你会经常修改的地方）
*   **`src/pages/`**：**路由中心**。
    *   这里的每个 `.astro` 或 `.md` 文件都对应一个网页路径。
    *   修改 `index.astro` 就是修改首页。
*   **`src/content/`**：**内容仓库**。
    *   通常你的博客文章（`.md` 或 `.mdx` 文件）都放在这里。这是你写稿的主要地方。
*   **`src/components/`**：**零件箱**。
    *   存放导航栏 (Nav)、页脚 (Footer)、卡片 (Card) 等重复使用的组件。
*   **`public/`**：**静态资源**。
    *   放你的头像、网站图标 (favicon)、不需要处理的原始图片。通过 `/filename` 即可直接访问。
*   **`src/styles/`**（如果有）：**样式表**。
    *   存放全局 CSS 或 Tailwind 的配置文件。

### ⚙️ 配置文件（偶尔修改）
*   **`astro.config.mjs`**：Astro 的“大脑”。如果你要添加新功能（比如搜索、站点地图），需要在这里配置。
*   **`package.json`**：项目的“清单”。记录了你用 npm 安装了哪些插件，以及 `npm run dev` 等快捷命令。

### 🛠️ 无需手动修改（由系统管理）
*   **`node_modules/`**：npm 自动下载的依赖包，像个巨大的黑盒，不用管它。
*   **`dist/`**：当你运行打包命令后生成的文件夹，里面是最终可以上传到服务器的静态网页。
*   **`package-lock.json`**：记录依赖包的精确版本，确保在别人电脑上运行效果一致。


### 📁 根目录文件

#### `package.json`
- **作用**: 项目配置文件，定义了项目的基本信息、依赖包和运行脚本
- **关键内容**:
  - 项目名称和版本
  - 依赖包列表（Astro、MDX、RSS、Sitemap、Tailwind CSS 等）
  - 运行脚本：`dev`（开发服务器）、`build`（构建生产版本）、`preview`（预览构建结果）
- **操作**: 使用 `npm install` 安装依赖，使用 `npm run dev` 启动开发服务器

#### `astro.config.mjs`
- **作用**: Astro 框架的核心配置文件
- **关键配置**:
  - 站点 URL 配置
  - 集成插件配置（MDX、Sitemap）
  - Vite 插件配置（Tailwind CSS）
- **操作**: 修改此文件可以添加新的集成、配置构建选项等

#### `tsconfig.json`
- **作用**: TypeScript 配置文件，定义 TypeScript 编译选项
- **操作**: 通常不需要修改，除非需要调整 TypeScript 编译规则

#### `README.md`
- **作用**: 项目说明文档，包含项目介绍、快速开始指南等
- **操作**: 可以更新此文件来记录项目的使用说明

---

### 📁 `public/` 目录

**作用**: 存放静态资源文件，这些文件会直接复制到构建输出的根目录，可以通过 URL 直接访问。

#### `public/favicon.svg`
- **作用**: 网站图标（favicon），显示在浏览器标签页上
- **操作**: 可以替换为自己的图标文件

#### `public/fonts/` 目录
- **作用**: 存放自定义字体文件
- **包含文件**:
  - `atkinson-bold.woff`: Atkinson Hyperlegible 粗体字体
  - `atkinson-regular.woff`: Atkinson Hyperlegible 常规字体
- **操作**: 可以添加其他字体文件，并在 CSS 中引用

---

### 📁 `src/` 目录

**作用**: 源代码目录，包含所有网站的核心代码和内容。

#### `src/assets/` 目录
- **作用**: 存放图片等资源文件，这些文件会被 Astro 优化处理
- **包含文件**: 博客文章的占位图片
  - `blog-placeholder-1.jpg` 到 `blog-placeholder-5.jpg`: 博客文章示例图片
  - `blog-placeholder-about.jpg`: 关于页面的占位图片
- **操作**: 可以添加自己的图片资源，在组件中使用 `import` 导入

#### `src/components/` 目录
- **作用**: 存放可复用的 Astro 组件
- **包含组件**:
  - `BaseHead.astro`: 基础 HTML head 组件，包含 SEO 元数据、OpenGraph 标签等
  - `Header.astro`: 网站头部导航组件
  - `HeaderLink.astro`: 导航链接组件
  - `Footer.astro`: 网站底部组件
  - `FormattedDate.astro`: 日期格式化组件，用于显示博客发布日期
- **操作**: 
  - 可以修改这些组件来自定义网站的外观和功能
  - 可以创建新的组件来扩展功能

#### `src/content/` 目录
- **作用**: 存放内容集合（Content Collections），使用 Astro 的内容管理功能
- **包含**:
  - `blog/` 目录: 存放所有博客文章的 Markdown 或 MDX 文件
    - `first-post.md`: 第一篇示例博客文章
    - `second-post.md`: 第二篇示例博客文章
    - `third-post.md`: 第三篇示例博客文章
    - `markdown-style-guide.md`: Markdown 样式指南示例
    - `using-mdx.mdx`: MDX 使用示例
- **操作**: 
  - 在此目录下创建新的 `.md` 或 `.mdx` 文件来添加博客文章
  - 每篇文章需要包含 frontmatter（标题、描述、发布日期等）

#### `src/layouts/` 目录
- **作用**: 存放页面布局模板
- **包含文件**:
  - `BlogPost.astro`: 博客文章页面的布局模板
    - 定义了博客文章的页面结构
    - 包含文章标题、发布日期、内容区域等
- **操作**: 可以修改此布局来自定义博客文章的显示样式

#### `src/pages/` 目录
- **作用**: 存放页面文件，Astro 会根据文件路径自动生成路由
- **包含文件**:
  - `index.astro`: 网站首页（对应路由 `/`）
  - `about.astro`: 关于页面（对应路由 `/about`）
  - `blog/index.astro`: 博客列表页（对应路由 `/blog`）
    - 显示所有博客文章的列表
    - 自动从 `src/content/blog/` 读取文章
  - `blog/[...slug].astro`: 动态路由，用于显示单个博客文章（对应路由 `/blog/文章名称`）
    - 使用 `[...slug]` 表示动态路由参数
  - `rss.xml.js`: RSS 订阅源生成文件（对应路由 `/rss.xml`）
    - 自动生成包含所有博客文章的 RSS 订阅源
- **操作**: 
  - 在此目录下创建新的 `.astro` 文件可以创建新页面
  - 文件路径直接对应 URL 路径（例如 `about.astro` 对应 `/about`）

#### `src/styles/` 目录
- **作用**: 存放全局样式文件
- **包含文件**:
  - `global.css`: 全局 CSS 样式文件
    - 定义网站的基础样式、CSS 变量等
- **操作**: 可以在此文件中添加自定义样式或修改现有样式

#### `src/consts.ts`
- **作用**: 存放全局常量配置
- **包含内容**:
  - `SITE_TITLE`: 网站标题
  - `SITE_DESCRIPTION`: 网站描述
- **操作**: 可以修改这些常量来更新网站的基本信息，或在文件中添加其他全局常量

#### `src/content.config.ts`
- **作用**: 内容集合的配置文件，定义内容集合的结构和验证规则
- **关键配置**:
  - 定义 `blog` 集合
  - 指定博客文章的 frontmatter 结构（标题、描述、发布日期、更新日期、封面图片等）
  - 使用 Zod 进行类型验证
- **操作**: 
  - 可以修改 frontmatter 的字段要求
  - 可以添加新的内容集合（如 `projects`、`notes` 等）

---

## 常用操作指南

### 1. 启动开发服务器
```bash
npm run dev
```
启动后访问 `http://localhost:4321` 查看网站

### 2. 添加新的博客文章
1. 在 `src/content/blog/` 目录下创建新的 `.md` 或 `.mdx` 文件
2. 在文件开头添加 frontmatter：
```markdown
---
title: "文章标题"
description: "文章描述"
pubDate: 2024-01-01
heroImage: "/path/to/image.jpg"
---
```
3. 保存文件后，文章会自动出现在博客列表中

### 3. 修改网站基本信息
编辑 `src/consts.ts` 文件，修改 `SITE_TITLE` 和 `SITE_DESCRIPTION`

### 4. 自定义样式
- 修改 `src/styles/global.css` 来调整全局样式
- 项目已集成 Tailwind CSS，可以在组件中直接使用 Tailwind 类名

### 5. 添加新页面
在 `src/pages/` 目录下创建新的 `.astro` 文件，文件名对应 URL 路径

### 6. 构建生产版本
```bash
npm run build
```
构建完成后，生成的文件在 `dist/` 目录中

### 7. 预览生产构建
```bash
npm run preview
```
用于在本地预览构建后的网站效果

---

## 技术栈

- **Astro**: 静态网站生成框架
- **TypeScript**: 类型安全的 JavaScript
- **Tailwind CSS**: 实用优先的 CSS 框架
- **MDX**: 支持 JSX 的 Markdown
- **Zod**: TypeScript 优先的模式验证库

## 主要功能特性

- ✅ 支持 Markdown 和 MDX 格式的博客文章
- ✅ 自动生成 RSS 订阅源
- ✅ 自动生成站点地图（Sitemap）
- ✅ SEO 优化（OpenGraph、canonical URLs）
- ✅ 响应式设计
- ✅ 高性能（100/100 Lighthouse 性能评分）
- ✅ 类型安全的内容管理

## 注意事项

1. **内容集合**: 博客文章必须放在 `src/content/blog/` 目录下，并且 frontmatter 必须符合 `content.config.ts` 中定义的格式
2. **静态资源**: 
   - 放在 `public/` 目录的文件可以直接通过 URL 访问
   - 放在 `src/assets/` 的文件需要通过 `import` 导入，会被 Astro 优化处理
3. **路由规则**: `src/pages/` 目录下的文件路径直接对应 URL 路径
4. **构建输出**: 运行 `npm run build` 后，生成的文件在 `dist/` 目录，可以部署到任何静态网站托管服务

---

## 扩展建议

1. **添加新内容类型**: 在 `content.config.ts` 中定义新的集合（如项目、笔记等）
2. **自定义组件**: 在 `src/components/` 中创建可复用的组件
3. **集成更多功能**: 在 `astro.config.mjs` 中添加 Astro 集成（如 React、Vue 等）
4. **优化 SEO**: 在 `BaseHead.astro` 中添加更多 SEO 元数据
5. **添加搜索功能**: 可以集成 Algolia 或其他搜索服务

---

*最后更新: 2024年*
